# ๐จ Streamlit ะัะธะปะพะถะตะฝะธะต - ะะฑะทะพั

## ๐ ะงัะพ ะฟะพะปััะธะปะพัั

**ะะพะปะฝะพััะฝะบัะธะพะฝะฐะปัะฝะพะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต** ะดะปั ะดะตะผะพะฝัััะฐัะธะธ ะผะพะดะตะปะธ ัะตะณะผะตะฝัะฐัะธะธ ะทะดะฐะฝะธะน!

---

## ๐ฑ ะะฝัะตััะตะนั ะฟัะธะปะพะถะตะฝะธั

### ะะปะฐะฒะฝัะน ัะบัะฐะฝ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                              โ
โ       ๐๏ธ Building Segmentation from Satellite Images        โ
โ     ะะฒัะพะผะฐัะธัะตัะบะฐั ัะตะณะผะตะฝัะฐัะธั ะทะดะฐะฝะธะน ะธ ัะฐัััั ะฟะปะพัะฐะดะธ      โ
โ                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ             โ  โ                                          โ
โ  โ๏ธ SIDEBAR โ  โ  ๐ค ะะฐะณััะทะธัั | ๐ผ๏ธ ะัะธะผะตัั | โน๏ธ ะ ะฟัะพะตะบัะต โ
โ             โ  โ                                          โ
โ ๐ค ะะพะดะตะปั   โ  โ  [Drag & Drop ะธะปะธ Browse files]         โ
โ  Config     โ  โ                                          โ
โ  Checkpoint โ  โ  ๐ท Preview ะธะทะพะฑัะฐะถะตะฝะธั                  โ
โ             โ  โ                                          โ
โ ๐ง ะะฐัะฐะผะตัััโ  โ  [๐ ะะฐะฟัััะธัั ัะตะณะผะตะฝัะฐัะธั]              โ
โ  Threshold  โ  โ                                          โ
โ  Patch size โ  โ  โ                                       โ
โ  Stride     โ  โ                                          โ
โ             โ  โ  ๐ ะะตะทัะปััะฐัั:                          โ
โ ๐จ ะะธะทัะฐะปะธะท.โ  โ   ๐๏ธ ะะปะพัะฐะดั: 65.79 ะณะฐ                  โ
โ  Colormap   โ  โ   ๐ ะ ะผยฒ: 657,900 ะผยฒ                   โ
โ  Alpha      โ  โ   ๐ ะะธะบัะตะปะตะน: 7,321,111                โ
โ             โ  โ   ๐ ะะพะบัััะธะต: 29.28%                   โ
โ ๐ ะ ะผะพะดะตะปะธ โ  โ                                          โ
โ  IoU: 0.80  โ  โ  ๐จ 4 ะฒะบะปะฐะดะบะธ ะฒะธะทัะฐะปะธะทะฐัะธะธ:              โ
โ             โ  โ   ๐ด ะะฐัะบะฐ | ๐ Overlay | ๐ Probs | ๐  โ
โ             โ  โ                                          โ
โ             โ  โ  ๐พ ะกะบะฐัะฐัั: [ะะฐัะบั] [Overlay] [JSON]   โ
โ             โ  โ                                          โ
โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## โจ ะัะฝะพะฒะฝัะต ััะฝะบัะธะธ

### 1. ๐ค ะะฐะณััะทะบะฐ ะธะทะพะฑัะฐะถะตะฝะธะน

**ะะฒะฐ ัะฟะพัะพะฑะฐ:**
- **Drag & Drop** - ะฟะตัะตัะฐัะธัะต ัะฐะนะป ะฒ ะพะบะฝะพ
- **Browse Files** - ะฒัะฑะตัะธัะต ัะตัะตะท ะดะธะฐะปะพะณ

**ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะพัะผะฐัั:**
- PNG (.png)
- JPEG (.jpg, .jpeg)
- TIFF (.tif, .tiff)

**ะะพัะปะต ะทะฐะณััะทะบะธ:**
- โ ะะฒัะพะผะฐัะธัะตัะบะธะน preview
- โ ะะฝัะพัะผะฐัะธั ะพ ัะฐะทะผะตัะต
- โ ะะฝะพะฟะบะฐ ะทะฐะฟััะบะฐ ัะตะณะผะตะฝัะฐัะธะธ

### 2. ๐ค Inference

**ะัะพัะตัั:**
1. ะะฐะถะฐัั "๐ ะะฐะฟัััะธัั ัะตะณะผะตะฝัะฐัะธั"
2. Spinner ะฟะพะบะฐะทัะฒะฐะตั ะฟัะพะณัะตัั
3. ~2-5 ัะตะบัะฝะด ะพะฑัะฐะฑะพัะบะธ
4. ะะตะทัะปััะฐัั ะพัะพะฑัะฐะถะฐัััั

**ะัะฟะพะปัะทัะตััั:**
- ะะฑััะตะฝะฝะฐั ะผะพะดะตะปั (IoU 0.80)
- Mixed Precision (FP16)
- Sliding Window inference
- ะะฐัััะฐะธะฒะฐะตะผัะต ะฟะฐัะฐะผะตััั

### 3. ๐ ะะตะทัะปััะฐัั

**4 ะผะตััะธะบะธ ะฒ ะบะฐััะพัะบะฐั:**
- ๐๏ธ **ะะปะพัะฐะดั ะทะฐัััะพะนะบะธ** (ะณะฐ)
- ๐ **ะ ะบะฒะฐะดัะฐัะฝัั ะผะตััะฐั** (ะผยฒ)
- ๐ **ะะธะบัะตะปะตะน ะทะดะฐะฝะธะน** (ัั)
- ๐ **ะะพะบัััะธะต** (%)

**ะัะธะผะตั:**
```
๐๏ธ ะะปะพัะฐะดั ะทะฐัััะพะนะบะธ    ๐ ะ ะบะฒะฐะดัะฐัะฝัั ะผะตััะฐั
   65.79 ะณะฐ                657,900 ะผยฒ

๐ ะะธะบัะตะปะตะน ะทะดะฐะฝะธะน      ๐ ะะพะบัััะธะต
   7,321,111               29.28%
```

### 4. ๐จ ะะธะทัะฐะปะธะทะฐัะธั (4 ะฒะบะปะฐะดะบะธ)

#### ะะบะปะฐะดะบะฐ 1: ๐ด ะะฐัะบะฐ ะทะดะฐะฝะธะน
- ะะธะฝะฐัะฝะฐั ะผะฐัะบะฐ ะฒ ัะฒะตัะต
- ะัะฑะพั colormap (Red/Blue/Green/Jet/Viridis)
- ะงะธััะพะต ะพัะพะฑัะฐะถะตะฝะธะต ัะพะปัะบะพ ะทะดะฐะฝะธะน

#### ะะบะปะฐะดะบะฐ 2: ๐ Overlay
- ะะฐัะบะฐ ะฝะฐะปะพะถะตะฝะฐ ะฝะฐ ะพัะธะณะธะฝะฐะป
- ะะฐัััะฐะธะฒะฐะตะผะฐั ะฟัะพะทัะฐัะฝะพััั (alpha)
- ะฅะพัะพัะพ ะฒะธะดะฝะพ ัะฐัะฟะพะปะพะถะตะฝะธะต ะทะดะฐะฝะธะน

#### ะะบะปะฐะดะบะฐ 3: ๐ Probability Map
- ะะฐััะฐ ะฒะตัะพััะฝะพััะตะน (heatmap)
- ะะธััะพะณัะฐะผะผะฐ ัะฐัะฟัะตะดะตะปะตะฝะธั
- ะะธะดะฝะพ "ัะฒะตัะตะฝะฝะพััั" ะผะพะดะตะปะธ

#### ะะบะปะฐะดะบะฐ 4: ๐ ะกัะฐะฒะฝะตะฝะธะต
- 3 ะฟะฐะฝะตะปะธ: Original | Mask | Overlay
- Side-by-side ััะฐะฒะฝะตะฝะธะต
- ะะพะปะฝัะน ะพะฑะทะพั ัะตะทัะปััะฐัะพะฒ

### 5. ๐พ ะกะบะฐัะธะฒะฐะฝะธะต

**3 ะบะฝะพะฟะบะธ:**

**๐ฅ ะกะบะฐัะฐัั ะผะฐัะบั (PNG)**
- ะะธะฝะฐัะฝะฐั ะผะฐัะบะฐ ะทะดะฐะฝะธะน
- ะคะพัะผะฐั: PNG
- ะะพัะพะฒะฐ ะดะปั ะดะฐะปัะฝะตะนัะตะน ะพะฑัะฐะฑะพัะบะธ

**๐ฅ ะกะบะฐัะฐัั overlay (PNG)**
- Overlay ะธะทะพะฑัะฐะถะตะฝะธะต
- ะคะพัะผะฐั: PNG
- ะะพัะพะฒะพ ะดะปั ะฟัะตะทะตะฝัะฐัะธะธ

**๐ฅ ะกะบะฐัะฐัั ะดะฐะฝะฝัะต (JSON)**
- ะัะต ะผะตััะธะบะธ
- ะคะพัะผะฐั: JSON
- ะะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ะพะฑัะฐะฑะพัะบะธ

**ะัะธะผะตั JSON:**
```json
{
  "area_m2": 657900.0,
  "area_ha": 65.79,
  "building_pixels": 7321111,
  "coverage_percent": 29.28,
  "image_size": [5000, 5000],
  "threshold": 0.5
}
```

### 6. ๐ผ๏ธ ะัะธะผะตัั

**ะะบะปะฐะดะบะฐ "ะัะธะผะตัั":**
- ะะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะณััะถะฐะตั ะฟัะธะผะตัั ะธะท `examples/`
- Dropdown ัะฟะธัะพะบ
- ะะฝะพะฟะบะฐ ะฑััััะพะณะพ ะทะฐะฟััะบะฐ
- ะะดะตะฐะปัะฝะพ ะดะปั ะดะตะผะพะฝัััะฐัะธะธ

**ะัะปะธ ะฝะตั ะฟัะธะผะตัะพะฒ:**
- ะะพะบะฐะทัะฒะฐะตั ะดััะถะตะปัะฑะฝะพะต ะฟัะตะดัะฟัะตะถะดะตะฝะธะต
- ะัะตะดะปะฐะณะฐะตั ะธัะฟะพะปัะทะพะฒะฐัั ะทะฐะณััะทะบั ัะฐะนะปะพะฒ

### 7. โ๏ธ ะะฐัััะพะนะบะธ (Sidebar)

**ะะพะดะตะปั:**
- ะััั ะบ config.yaml
- ะััั ะบ checkpoint.pth

**ะะฐัะฐะผะตััั inference:**
- **Threshold** (0.0-1.0): ะฟะพัะพะณ ะฑะธะฝะฐัะธะทะฐัะธะธ
- **Patch size**: 256/512/1024
- **Stride**: ัะฐะณ ะพะบะฝะฐ (128-1024)

**ะะธะทัะฐะปะธะทะฐัะธั:**
- **Colormap**: 5 ะฒะฐัะธะฐะฝัะพะฒ
- **Overlay alpha**: ะฟัะพะทัะฐัะฝะพััั 0-1

**ะะฝัะพัะผะฐัะธั:**
- ะััะธัะตะบัััะฐ ะผะพะดะตะปะธ
- ะะตััะธะบะธ (IoU, F1, etc.)
- ะะฐัะฐัะตั
- ะกััะปะบะฐ ะฝะฐ GitHub

---

## ๐ฏ ะัะพะฑะตะฝะฝะพััะธ ัะตะฐะปะธะทะฐัะธะธ

### ๐พ ะะตัะธัะพะฒะฐะฝะธะต ะผะพะดะตะปะธ

```python
@st.cache_resource
def load_model_cached(...):
    # ะะพะดะตะปั ะทะฐะณััะถะฐะตััั 1 ัะฐะท
    # ะัะธ ะธะทะผะตะฝะตะฝะธะธ ะฟะฐัะฐะผะตััะพะฒ ะฝะต ะฟะตัะตะทะฐะณััะถะฐะตััั
```

**ะัะตะธะผััะตััะฒะฐ:**
- โก ะัััััะน ััะฐัั
- ๐พ ะญะบะพะฝะพะผะธั ะฟะฐะผััะธ
- ๐ ะะตัะตะธัะฟะพะปัะทะพะฒะฐะฝะธะต

### ๐จ ะะฐััะพะผะฝัะน CSS

```css
.main-header {
    font-size: 2.5rem;
    color: #1E88E5;
}

.metric-card {
    background: #f0f2f6;
    border-left: 4px solid #1E88E5;
}
```

**ะะตะทัะปััะฐั:**
- ๐จ ะัะฐัะธะฒัะน ะดะธะทะฐะนะฝ
- ๐ฑ Responsive layout
- โจ ะัะพัะตััะธะพะฝะฐะปัะฝัะน ะฒะธะด

### ๐ง ะะพะดัะปัะฝะฐั ะฐััะธัะตะบัััะฐ

```
app.py              # ะะปะฐะฒะฝะฐั ะปะพะณะธะบะฐ
โโโ app_utils.py    # ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะฝะบัะธะธ
    โโโ load_example_images()
    โโโ apply_colormap_to_mask()
    โโโ create_overlay_image()
    โโโ create_side_by_side_comparison()
    โโโ plot_area_statistics()
```

**ะัะตะธะผััะตััะฒะฐ:**
- ๐ฆ ะงะธัััะน ะบะพะด
- ๐ง ะะตะณะบะพ ัะฐััะธัััั
- ๐ ะะตะณะบะพ ะดะตะฑะฐะถะธัั

### โก ะะฟัะธะผะธะทะฐัะธั

**Mixed Precision:**
```python
with torch.amp.autocast(device_type='cuda', dtype=torch.float16):
    outputs = model(images)
```

**ะะตะทัะปััะฐั:**
- 2ร ะฑััััะตะต inference
- ะะตะฝััะต ะฟะฐะผััะธ GPU
- ะะตะท ะฟะพัะตัะธ ะบะฐัะตััะฒะฐ

---

## ๐ ะขะตัะฝะธัะตัะบะธะต ัะฐัะฐะบัะตัะธััะธะบะธ

### ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

| ะะฐัะฐะผะตัั | ะะฝะฐัะตะฝะธะต |
|----------|----------|
| **ะัะตะผั ะทะฐะณััะทะบะธ ะผะพะดะตะปะธ** | ~3-5 ัะตะบัะฝะด |
| **Inference (5000ร5000)** | ~2-5 ัะตะบัะฝะด (GPU) / ~30-60 ัะตะบ (CPU) |
| **Patch size 512, stride 512** | ~100 ะฟะฐััะตะน |
| **Memory usage (GPU)** | ~4-6 GB |
| **Memory usage (CPU)** | ~2-3 GB |

### ะะพะดะดะตัะถะบะฐ

| ะคัะฝะบัะธั | ะกัะฐััั |
|---------|--------|
| **CPU inference** | โ ะะฐ |
| **GPU inference** | โ ะะฐ (CUDA) |
| **ะะพะปััะธะต ะธะทะพะฑัะฐะถะตะฝะธั** | โ ะะฐ (5000ร5000+) |
| **Batch processing** | โ ะะตั (ะฟะพะบะฐ) |
| **API endpoint** | โ ะะตั (ัะพะปัะบะพ UI) |
| **Docker** | โ ะะตั (ะผะพะถะฝะพ ะดะพะฑะฐะฒะธัั) |

---

## ๐ ะะฐะฟััะบ

### ะัััััะน ััะฐัั:

```bash
# 1. ะฃััะฐะฝะพะฒะธัั Streamlit
pip install streamlit

# 2. ะะฐะฟัััะธัั
streamlit run app.py

# 3. ะัะบัััั ะฑัะฐัะทะตั
# http://localhost:8501
```

### ะะพะปะฝะฐั ะธะฝััััะบัะธั:

ะกะผ. `STREAMLIT_RUN_GUIDE.md`

---

## ๐ ะะปั ะดะธะฟะปะพะผะฝะพะน ัะฐะฑะพัั

### โ ะงัะพ ะดะตะผะพะฝัััะธัะพะฒะฐัั:

1. **ะะฝัะตััะตะนั:**
   - ะกะบัะธะฝัะพั ะณะปะฐะฒะฝะพะณะพ ัะบัะฐะฝะฐ
   - ะัะธะผะตั ะทะฐะณััะทะบะธ ัะฐะนะปะฐ
   - ะะฐัััะพะนะบะธ ะฒ sidebar

2. **ะัะพัะตัั ัะฐะฑะพัั:**
   - ะะฐะณััะทะบะฐ ะธะทะพะฑัะฐะถะตะฝะธั
   - ะัะพัะตัั ัะตะณะผะตะฝัะฐัะธะธ (spinner)
   - ะัะพะฑัะฐะถะตะฝะธะต ัะตะทัะปััะฐัะพะฒ

3. **ะะตะทัะปััะฐัั:**
   - 4 ะฒะบะปะฐะดะบะธ ะฒะธะทัะฐะปะธะทะฐัะธะธ
   - ะะตััะธะบะธ ะฟะปะพัะฐะดะธ
   - ะกะบะฐัะธะฒะฐะฝะธะต ัะฐะนะปะพะฒ

4. **ะคัะฝะบัะธะพะฝะฐะป:**
   - ะัะธะผะตัั ะธะทะพะฑัะฐะถะตะฝะธะน
   - ะะทะผะตะฝะตะฝะธะต ะฟะฐัะฐะผะตััะพะฒ
   - ะะฐะทะปะธัะฝัะต colormap'ั

### ๐ธ ะะตะบะพะผะตะฝะดัะตะผัะต ัะบัะธะฝัะพัั:

1. ะะปะฐะฒะฝัะน ัะบัะฐะฝ (overview)
2. ะัะพัะตัั ะทะฐะณััะทะบะธ ัะฐะนะปะฐ
3. ะะตะทัะปััะฐัั ัะตะณะผะตะฝัะฐัะธะธ (ะฒัะต ะผะตััะธะบะธ)
4. ะะบะปะฐะดะบะฐ "ะะฐัะบะฐ ะทะดะฐะฝะธะน"
5. ะะบะปะฐะดะบะฐ "Overlay"
6. ะะบะปะฐะดะบะฐ "Probability Map"
7. Sidebar ั ะฝะฐัััะพะนะบะฐะผะธ
8. Tab "ะ ะฟัะพะตะบัะต"

### ๐ฌ ะะตะผะพ-ะฒะธะดะตะพ:

**ะกัะตะฝะฐัะธะน (30-60 ัะตะบัะฝะด):**
1. ะะพะบะฐะทะฐัั ะณะปะฐะฒะฝัะน ัะบัะฐะฝ (2 ัะตะบ)
2. ะะฐะณััะทะธัั ะธะทะพะฑัะฐะถะตะฝะธะต (3 ัะตะบ)
3. ะะฐะถะฐัั "ะะฐะฟัััะธัั" (1 ัะตะบ)
4. ะะพะถะดะฐัััั ัะตะทัะปััะฐัะฐ (3 ัะตะบ)
5. ะะพะบะฐะทะฐัั ะผะตััะธะบะธ (5 ัะตะบ)
6. ะัะพะปะธััะฐัั ะฒัะต ะฒะบะปะฐะดะบะธ (10 ัะตะบ)
7. ะะทะผะตะฝะธัั ะฟะฐัะฐะผะตััั ะฒ sidebar (5 ัะตะบ)
8. ะกะบะฐัะฐัั ัะตะทัะปััะฐัั (3 ัะตะบ)

---

## ๐ ะะพะทะผะพะถะฝัะต ัะปัััะตะฝะธั (ะพะฟัะธะพะฝะฐะปัะฝะพ)

### ะะปั ะฑัะดััะธั ะฒะตััะธะน:

1. **Batch processing** - ะพะฑัะฐะฑะพัะบะฐ ะฝะตัะบะพะปัะบะธั ัะฐะนะปะพะฒ
2. **ะััะพัะธั** - ัะพััะฐะฝะตะฝะธะต ะฟัะพัะปัั ัะตะทัะปััะฐัะพะฒ
3. **ะกัะฐะฒะฝะตะฝะธะต** - ััะฐะฒะฝะตะฝะธะต ะดะฒัั ะธะทะพะฑัะฐะถะตะฝะธะน
4. **Export ะฒ GeoJSON** - ะฒะตะบัะพัะธะทะฐัะธั ะผะฐัะพะบ
5. **API endpoint** - REST API ะดะปั ะธะฝัะตะณัะฐัะธะธ
6. **Docker** - ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั ะฟัะธะปะพะถะตะฝะธั
7. **ะัะปััะธัะทััะฝะพััั** - ะฟะพะดะดะตัะถะบะฐ EN/RU
8. **ะััะตะฝัะธัะธะบะฐัะธั** - ะปะพะณะธะฝ ะฟะพะปัะทะพะฒะฐัะตะปะตะน

---

## โ ะัะพะณ

### ะะตะฐะปะธะทะพะฒะฐะฝะพ:

- โ ะะพะปะฝะพััะฝะบัะธะพะฝะฐะปัะฝะพะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต
- โ ะะฝััะธัะธะฒะฝัะน ะธะฝัะตััะตะนั
- โ 4 ัะธะฟะฐ ะฒะธะทัะฐะปะธะทะฐัะธะธ
- โ ะะฐัััั ะฟะปะพัะฐะดะธ ะทะฐัััะพะนะบะธ
- โ ะกะบะฐัะธะฒะฐะฝะธะต ัะตะทัะปััะฐัะพะฒ
- โ ะะฐัััะฐะธะฒะฐะตะผัะต ะฟะฐัะฐะผะตััั
- โ ะะพะดะดะตัะถะบะฐ ะฟัะธะผะตัะพะฒ
- โ ะะฝัะพัะผะฐัะธะพะฝะฝะฐั ัััะฐะฝะธัะฐ

### ะะปั ะขะ:

**โ ะะตะฐะปะธะทะฐัะธั ะดะตะผะพ-ะฟัะธะปะพะถะตะฝะธั ะฝะฐ Streamlit (2 ะฑะฐะปะปะฐ)**