# üöÄ –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –º–∞—Å—à—Ç–∞–±–∞

–Ø –æ–±–Ω–æ–≤–∏–ª –ø—Ä–æ–µ–∫—Ç —Ç–∞–∫, —á—Ç–æ–±—ã –º–∞—Å—à—Ç–∞–± –æ–ø—Ä–µ–¥–µ–ª—è–ª—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∏–∑ GeoTIFF –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö!

---

## üìÅ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### 1. –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

```
inria_project/
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ area_calculator_advanced.py  ‚ú® –ù–û–í–´–ô - —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–∞—Å—à—Ç–∞–±–æ–º
    ‚îî‚îÄ‚îÄ inference_with_scale.py      ‚ú® –ù–û–í–´–ô - wrapper –¥–ª—è inference
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã:

```
inria_project/
‚îî‚îÄ‚îÄ app.py  ‚ôªÔ∏è –û–ë–ù–û–í–õ–Å–ù - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Å—à—Ç–∞–±
```

---

## üéØ –ì–ª–∞–≤–Ω–æ–µ: –ü–µ—Ä–µ–æ–±—É—á–∞—Ç—å –º–æ–¥–µ–ª—å –ù–ï –ù–£–ñ–ù–û!

### –ü–æ—á–µ–º—É?

**–ú–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–∏–∫—Å–µ–ª—è–º–∏, –∞ –Ω–µ —Å –º–µ—Ç—Ä–∞–º–∏!**

```
                –ù–ò–ö–ê–ö –ù–ï –í–õ–ò–Ø–ï–¢
                       ‚Üì
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí [–ú–û–î–ï–õ–¨] ‚Üí –ú–∞—Å–∫–∞ (–≤ –ø–∏–∫—Å–µ–ª—è—Ö)
                       ‚Üë
                –ù–ò–ö–ê–ö –ù–ï –í–õ–ò–Ø–ï–¢

              –í–õ–ò–Ø–ï–¢ –¢–û–õ–¨–ö–û –ó–î–ï–°–¨
                       ‚Üì
–ú–∞—Å–∫–∞ ‚Üí [–ú–ê–°–®–¢–ê–ë] ‚Üí –ü–ª–æ—â–∞–¥—å (–≤ –º–µ—Ç—Ä–∞—Ö)
```

**–ú–∞—Å—à—Ç–∞–± –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ü–û–°–õ–ï —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏!**

---

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–ø–µ—Ä—å

### –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—à—Ç–∞–±):

```python
# ‚ùå –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 0.3 –º/–ø–∏–∫—Å–µ–ª—å
calculator = AreaCalculator(pixel_size_m=0.3)
areas = calculator.calculate_area(mask)
```

### –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Å—à—Ç–∞–±):

```python
# ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑ GeoTIFF!
calculator = AreaCalculatorAdvanced.from_geotiff('image.tif')
areas = calculator.calculate_area(mask)

# –ò–ª–∏ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å (–¥–ª—è non-GeoTIFF)
calculator = AreaCalculatorAdvanced(pixel_size_m=0.5)
areas = calculator.calculate_area(mask)
```

---

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π Streamlit (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

**Streamlit –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ!** –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
cd F:\inria_project
streamlit run app.py
```

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –º–∞—Å—à—Ç–∞–± –∏–∑ TIFF —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—à—Ç–∞–± –Ω–∞ —ç–∫—Ä–∞–Ω–µ
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ GeoTIFF —Ñ–∞–π–ª–∞–º–∏

**–ü—Ä–∏–º–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìê –ú–∞—Å—à—Ç–∞–±: 0.3 –º/–ø–∏–∫—Å–µ–ª—å                  ‚îÇ
‚îÇ    (0.0900 –º¬≤ –Ω–∞ –ø–∏–∫—Å–µ–ª—å)                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

üèóÔ∏è –ü–ª–æ—â–∞–¥—å –∑–∞—Å—Ç—Ä–æ–π–∫–∏: 16.15 –≥–∞
üìè –í –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∞—Ö: 161,523 –º¬≤
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–≤–æ—ë–º –∫–æ–¥–µ (Python)

#### –°–ø–æ—Å–æ–± A: –° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º

```python
from inference_with_scale import predict_and_calculate_area
import torch

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å (–∫–∞–∫ –æ–±—ã—á–Ω–æ)
model = ...  # –≤–∞—à–∞ –æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
device = torch.device('cuda')

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–∞—Å—à—Ç–∞–±–æ–º
result = predict_and_calculate_area(
    model=model,
    image_source='path/to/image.tif',  # GeoTIFF —Ñ–∞–π–ª
    device=device,
    auto_extract_scale=True  # ‚ú® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
)

# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
print(f"–ú–∞—Å—à—Ç–∞–±: {result['pixel_size_m']} –º/–ø–∏–∫—Å–µ–ª—å")
print(f"–ü–ª–æ—â–∞–¥—å: {result['areas']['area_ha']:.2f} –≥–∞")
```

#### –°–ø–æ—Å–æ–± B: –° —è–≤–Ω—ã–º —É–∫–∞–∑–∞–Ω–∏–µ–º –º–∞—Å—à—Ç–∞–±–∞

```python
# –î–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (JPG, PNG)
result = predict_and_calculate_area(
    model=model,
    image_source='image.jpg',
    device=device,
    pixel_size_m=0.5,  # –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º!
    auto_extract_scale=False
)
```

#### –°–ø–æ—Å–æ–± C: Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞

```python
from inference_with_scale import batch_predict_and_calculate

# –°–ø–∏—Å–æ–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
images = [
    'image1.tif',  # –ú–∞—Å—à—Ç–∞–± –∏–∑–≤–ª–µ—á—ë–Ω: 0.3 –º
    'image2.tif',  # –ú–∞—Å—à—Ç–∞–± –∏–∑–≤–ª–µ—á—ë–Ω: 0.5 –º
    'image3.tif'   # –ú–∞—Å—à—Ç–∞–± –∏–∑–≤–ª–µ—á—ë–Ω: 0.25 –º
]

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ (–∫–∞–∂–¥—ã–π —Å–æ —Å–≤–æ–∏–º –º–∞—Å—à—Ç–∞–±–æ–º!)
results = batch_predict_and_calculate(
    model=model,
    image_paths=images,
    device=device,
    auto_extract_scale=True
)

# –í—ã–≤–µ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
for img, result in zip(images, results):
    areas = result['areas']
    print(f"{img}: {areas['area_ha']:.2f} –≥–∞ "
          f"(–º–∞—Å—à—Ç–∞–±: {result['pixel_size_m']} –º/–ø–∏–∫—Å–µ–ª—å)")
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –¢–æ–ª—å–∫–æ —Ä–∞—Å—á—ë—Ç –ø–ª–æ—â–∞–¥–∏ (–±–µ–∑ inference)

```python
from area_calculator_advanced import AreaCalculatorAdvanced
import numpy as np

# –£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –º–∞—Å–∫–∞
mask = np.array([...])  # –≤–∞—à–∞ –º–∞—Å–∫–∞

# –°–ø–æ—Å–æ–± 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Å—à—Ç–∞–± –∏–∑ —Ñ–∞–π–ª–∞
calculator = AreaCalculatorAdvanced.from_geotiff('original_image.tif')
areas = calculator.calculate_area(mask)

# –°–ø–æ—Å–æ–± 2: –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ
calculator = AreaCalculatorAdvanced(pixel_size_m=0.5)
areas = calculator.calculate_area(mask)

# –†–µ–∑—É–ª—å—Ç–∞—Ç
print(f"–ü–ª–æ—â–∞–¥—å: {areas['area_ha']} –≥–∞")
print(f"–ú–∞—Å—à—Ç–∞–±: {areas['pixel_size_m']} –º/–ø–∏–∫—Å–µ–ª—å")
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
cd F:\inria_project\src
python inference_with_scale.py
```

**–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏:**
```
================================================================================
–¢–µ—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∞
================================================================================

üì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: cuda
‚úÖ –ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞: models/checkpoints/best_model.pth

================================================================================
–¢–µ—Å—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞ –∏–∑ GeoTIFF
================================================================================

üìê –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ GeoTIFF:
   CRS: EPSG:32615
   Pixel size: 0.3000 √ó 0.3000 –º
   Transform: ...

‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
   –ú–∞—Å—à—Ç–∞–±: 0.3 –º/–ø–∏–∫—Å–µ–ª—å
   –ò—Å—Ç–æ—á–Ω–∏–∫: geotiff (0.3m)
   –ü–ª–æ—â–∞–¥—å: 65.7900 –≥–∞
   –ü–æ–∫—Ä—ã—Ç–∏–µ: 29.28%

...
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: INRIA –¥–∞—Ç–∞—Å–µ—Ç (0.3 –º/–ø–∏–∫—Å–µ–ª—å)

```python
result = predict_and_calculate_area(
    model=model,
    image_source='austin1.tif',
    device=device,
    auto_extract_scale=True
)

# –ú–∞—Å—à—Ç–∞–± –∏–∑–≤–ª–µ—á—ë–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: 0.3 –º/–ø–∏–∫—Å–µ–ª—å ‚úÖ
```

### –ü—Ä–∏–º–µ—Ä 2: –î—Ä—É–≥–æ–π –¥–∞—Ç–∞—Å–µ—Ç (0.5 –º/–ø–∏–∫—Å–µ–ª—å)

```python
result = predict_and_calculate_area(
    model=model,
    image_source='some_city.tif',  # GeoTIFF —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º 0.5 –º
    device=device,
    auto_extract_scale=True
)

# –ú–∞—Å—à—Ç–∞–± –∏–∑–≤–ª–µ—á—ë–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: 0.5 –º/–ø–∏–∫—Å–µ–ª—å ‚úÖ
# –ü–ª–æ—â–∞–¥—å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞ –ü–†–ê–í–ò–õ–¨–ù–û!
```

### –ü—Ä–∏–º–µ—Ä 3: Google Maps —ç–∫—Å–ø–æ—Ä—Ç (–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –º–∞—Å—à—Ç–∞–±)

```python
# –í–∞—Ä–∏–∞–Ω—Ç A: –ï—Å–ª–∏ –∑–Ω–∞–µ—Ç–µ –º–∞—Å—à—Ç–∞–±
result = predict_and_calculate_area(
    model=model,
    image_source='google_maps.jpg',
    device=device,
    pixel_size_m=0.15,  # –ù–∞–ø—Ä–∏–º–µ—Ä, 15 —Å–º/–ø–∏–∫—Å–µ–ª—å
    auto_extract_scale=False
)

# –í–∞—Ä–∏–∞–Ω—Ç B: –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø–æ –æ–±—ä–µ–∫—Ç—É
from area_calculator_advanced import AreaCalculatorAdvanced

# –ù–∞–π–¥–∏—Ç–µ –æ–±—ä–µ–∫—Ç —Å –∏–∑–≤–µ—Å—Ç–Ω–æ–π –ø–ª–æ—â–∞–¥—å—é (—Ñ—É—Ç–±–æ–ª—å–Ω–æ–µ –ø–æ–ª–µ = 7140 –º¬≤)
calculator = AreaCalculatorAdvanced(pixel_size_m=0.3)  # –Ω–∞—á–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞
areas = calculator.calculate_area(football_field_mask)

# –†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –º–∞—Å—à—Ç–∞–±
real_pixel_size = np.sqrt(7140 / np.sum(football_field_mask))

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –≤—Å–µ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
calculator_calibrated = AreaCalculatorAdvanced(pixel_size_m=real_pixel_size)
```

---

## üéì –î–ª—è –∑–∞—â–∏—Ç—ã –¥–∏–ø–ª–æ–º–∞

> "–í –∏—Å—Ö–æ–¥–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –º–∞—Å—à—Ç–∞–± –±—ã–ª –∑–∞–¥–∞–Ω –∫–∞–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ 0.3 –º/–ø–∏–∫—Å–µ–ª—å –¥–ª—è –¥–∞—Ç–∞—Å–µ—Ç–∞ INRIA. –î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ—à–µ–Ω–∏—è —è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞ –∏–∑ GeoTIFF –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ rasterio.
>
> –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –ª—é–±–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏, —Ç–∞–∫ –∫–∞–∫ –º–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–∏–∫—Å–µ–ª—è–º–∏, –∞ –º–∞—Å—à—Ç–∞–± –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–∞–ø–µ –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ –º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –µ–¥–∏–Ω–∏—Ü—ã.
>
> –†–µ—à–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ: –µ—Å–ª–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã, –º–æ–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å –º–∞—Å—à—Ç–∞–± –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é."

> "–ü–µ—Ä–µ–æ–±—É—á–∞—Ç—å –º–æ–¥–µ–ª—å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –Ω–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø–∏–∫—Å–µ–ª—å–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ú–∞—Å—à—Ç–∞–± –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–∏–∫—Å–µ–ª–µ–π –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ –º–µ—Ç—Ä—ã –Ω–∞ —ç—Ç–∞–ø–µ –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∏.
>
> –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1 –º/–ø–∏–∫—Å–µ–ª—å –≤–º–µ—Å—Ç–æ 0.3 –º/–ø–∏–∫—Å–µ–ª—å), –∑–¥–∞–Ω–∏—è –±—É–¥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –º–µ–Ω—å—à–µ, –∏ –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ö—É–∂–µ. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è fine-tuning –Ω–∞ –Ω–æ–≤–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏."

> "–¢–æ—á–Ω–æ—Å—Ç—å —Ä–∞—Å—á—ë—Ç–∞ –ø–ª–æ—â–∞–¥–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–≤—É—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤:
> 1. –ö–∞—á–µ—Å—Ç–≤–æ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏ (IoU = 0.80)
> 2. –¢–æ—á–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∞
>
> –î–ª—è INRIA —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –≤ GeoTIFF —Ç–æ—á–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∞ –∞–±—Å–æ–ª—é—Ç–Ω–∞—è (¬±1 –º–º –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å GPS/–≥–µ–æ–¥–µ–∑–∏—è). –ü–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å –ø–ª–æ—â–∞–¥–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞—á–µ—Å—Ç–≤–æ–º —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏, —á—Ç–æ –¥–∞—ë—Ç –∏—Ç–æ–≥–æ–≤—É—é —Ç–æ—á–Ω–æ—Å—Ç—å 98.63% –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ."

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏

### –°–ø–æ—Å–æ–± 1: –°—Ä–∞–≤–Ω–∏—Ç—å —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

```python
# –î–ª—è INRIA –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# 5000 √ó 5000 –ø–∏–∫—Å–µ–ª–µ–π @ 0.3 –º/–ø–∏–∫—Å–µ–ª—å = 1.5 √ó 1.5 –∫–º = 2.25 –∫–º¬≤

calculator = AreaCalculatorAdvanced.from_geotiff('austin1.tif')
total_pixels = 5000 * 5000
total_area_km2 = (total_pixels * calculator.pixel_area_m2) / 1_000_000

print(f"Total area: {total_area_km2:.2f} –∫–º¬≤")
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 2.25 –∫–º¬≤ ‚úÖ
```

### –°–ø–æ—Å–æ–± 2: –ò–∑–º–µ—Ä–∏—Ç—å –∏–∑–≤–µ—Å—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç

```python
# –ù–∞–π–¥–∏—Ç–µ —Ñ—É—Ç–±–æ–ª—å–Ω–æ–µ –ø–æ–ª–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–ª–µ: 105 √ó 68 –º = 7,140 –º¬≤

field_mask = ...  # –º–∞—Å–∫–∞ —Ñ—É—Ç–±–æ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è
calculator = AreaCalculatorAdvanced.from_geotiff('image.tif')
field_area = calculator.calculate_area(field_mask)

print(f"Field area: {field_area['area_m2']:.0f} –º¬≤")
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–ª–∏–∑–∫–æ –∫ 7,140 –º¬≤ ‚úÖ
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –¢—Ä–µ–±—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ rasterio

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∞:

```bash
pip install rasterio
```

–ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ - –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (0.3 –º).

### 2. –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å GeoTIFF

–§–æ—Ä–º–∞—Ç—ã JPG, PNG –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –≥–µ–æ–º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö. –î–ª—è –Ω–∏—Ö –Ω—É–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –º–∞—Å—à—Ç–∞–±:

```python
calculator = AreaCalculatorAdvanced(pixel_size_m=0.5)
```

### 3. –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–°—Ç–∞—Ä—ã–π –∫–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:

```python
# –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± (–≤—Å—ë –µ—â—ë —Ä–∞–±–æ—Ç–∞–µ—Ç)
from area_calculator import AreaCalculator
calculator = AreaCalculator(pixel_size_m=0.3)
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –î–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```
src/
‚îú‚îÄ‚îÄ area_calculator.py       # –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—à—Ç–∞–±
‚îú‚îÄ‚îÄ inference.py
‚îî‚îÄ‚îÄ ...
```

### –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```
src/
‚îú‚îÄ‚îÄ area_calculator.py           # –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
‚îú‚îÄ‚îÄ area_calculator_advanced.py  ‚ú® –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è (–∞–≤—Ç–æ-–º–∞—Å—à—Ç–∞–±)
‚îú‚îÄ‚îÄ inference.py                 # –ë–∞–∑–æ–≤—ã–π inference
‚îú‚îÄ‚îÄ inference_with_scale.py      ‚ú® Wrapper —Å –∞–≤—Ç–æ-–º–∞—Å—à—Ç–∞–±–æ–º
‚îî‚îÄ‚îÄ ...
```

**–û–±–∞ —Ñ–∞–π–ª–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ!** –°—Ç–∞—Ä—ã–π –∫–æ–¥ –Ω–µ —Å–ª–æ–º–∞–µ—Ç—Å—è.

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç

- [ ] –§–∞–π–ª—ã `area_calculator_advanced.py` –∏ `inference_with_scale.py` –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `src/`
- [ ] Streamlit –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ (`app.py`)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `rasterio` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ –Ω–∞ INRIA –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ –Ω–∞ –¥—Ä—É–≥–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–∞—Ö (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

## üéØ –ò—Ç–æ–≥

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

‚úÖ –ú–∞—Å—à—Ç–∞–± —Ç–µ–ø–µ—Ä—å –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∏–∑ GeoTIFF  
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å **–ª—é–±—ã–º–∏ –¥–∞—Ç–∞—Å–µ—Ç–∞–º–∏** (–Ω–µ —Ç–æ–ª—å–∫–æ INRIA)  
‚úÖ **–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è** –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏  
‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å–æ —Å—Ç–∞—Ä—ã–º –∫–æ–¥–æ–º  
‚úÖ Streamlit –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–æ–±–Ω–æ–≤–ª–µ–Ω–æ**  

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

**–î–ª—è INRIA:** –ó–∞–ø—É—Å—Ç–∏—Ç—å `streamlit run app.py` - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! ‚úÖ

**–î–ª—è –¥—Ä—É–≥–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤:** 
```python
result = predict_and_calculate_area(
    model=model,
    image_source='your_image.tif',
    device=device,
    auto_extract_scale=True  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
)
```

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è! üöÄ

---

**–ê–≤—Ç–æ—Ä:** Zajinskiy Vadim  
**–î–∞—Ç–∞:** –Ø–Ω–≤–∞—Ä—å 2026  
**–ü—Ä–æ–µ–∫—Ç:** INRIA Building Segmentation with Auto-Scale
